<%#--
This file written by BBM
26/04/2019
++#%>
<% html_title l(:label_administration), l(:label_project_risks) %>

<%= toolbar title: l(:label_project_risks) do %>
  <li class="toolbar-item">
    <%= link_to new_project_project_risk_path,
                { class: 'button -alt-highlight',
                  id: 'new_project_project_risk_link',
                  aria: {label: t(:label_project_risk_new)},
                  title: t(:label_project_risk_new)} do %>
      <%= op_icon('button--icon icon-add') %>
      <span class="button--text"><%= t(:label_project_risk_new_short) %></span>
    <% end %>
  </li>
  <li class="toolbar-item">
    <%= link_to choose_typed_project_project_risks_path,
                { class: 'button -alt-highlight',
                  id: ' choose_typed_project_project_risks_link',
                  aria: {label: t(:label_project_risk_type_new)},
                  title: t(:label_project_risk_type_new)} do %>
      <%= op_icon('button--icon icon-add') %>
      <span class="button--text"><%= t(:label_project_risk_type_new_short) %></span>
    <% end %>
  </li>
<% end %>

<% if @project_risks.empty? %>
  <div class="generic-table--container">
    <div class="generic-table--results-container">
      <table class="generic-table" id="project_risk_items">
        <colgroup>
          <col highlight-col>
          <col highlight-col>
          <col highlight-col>
          <col highlight-col>
          <col highlight-col>
          <col highlight-col>
        </colgroup>
        <thead>
        <tr>
          <th>
            <div class="generic-table--sort-header-outer">
              <div class="generic-table--sort-header">
                <span>
                  <%= ProjectRisk.human_attribute_name(:id) %>
                </span>
              </div>
            </div>
          </th>
          <th>
            <div class="generic-table--sort-header-outer">
              <div class="generic-table--sort-header">
                <span>
                  <%= ProjectRisk.human_attribute_name(:name) %>
                </span>
              </div>
            </div>
          </th>
          <th>
            <div class="generic-table--sort-header-outer">
              <div class="generic-table--sort-header">
                <span>
                  <%= ProjectRisk.human_attribute_name(:possibility) %>
                </span>
              </div>
            </div>
          </th>
          <th>
            <div class="generic-table--sort-header-outer">
              <div class="generic-table--sort-header">
                <span>
                  <%= ProjectRisk.human_attribute_name(:importance) %>
                </span>
              </div>
            </div>
          </th>
          <th>
            <div class="generic-table--sort-header-outer">
              <div class="generic-table--sort-header">
                <span>
                  <%= ProjectRisk.human_attribute_name(:color) %>
                </span>
              </div>
            </div>
          </th>
        </tr>
        </thead>
        <tbody>
        <tr>
          <td colspan="5"><%= I18n.t :no_results_title_text %></td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
<% else %>
  <%= render :partial => 'project_risks/form/list', :locals => {:project_risks => @project_risks} %>
  <%= pagination_links_full @project_risks %>
<% end %>
<div class="wp-inline-create-button">
  <%= link_to t(:label_project_risk_new), new_project_project_risk_path(), class: 'wp-inline-create--split-link'%>
  <%= link_to t(:label_project_risk_type_new), choose_typed_project_project_risks_path(), class: 'wp-inline-create--split-link' %>
</div>

